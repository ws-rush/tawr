(function(t,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("valtio"),require("derive-valtio")):typeof define=="function"&&define.amd?define(["exports","valtio","derive-valtio"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.TawrState={},t.valtio,t.deriveValtio))})(this,function(t,i,r){"use strict";function a(o){const{state:u,getters:d,actions:f}=o,e=i.proxy(u());if(d){const s=d(e);r.derive(s,{proxy:e}),e.$underive=n=>{n&&n.length>0?r.underive(e,{keys:n.map(String),delete:!0}):r.underive(e)},e.$invalidate=n=>{if(n&&n.length>0){r.underive(e,{keys:n.map(String),delete:!0});const p={};for(const c of n)p[c]=s[c];r.derive(p,{proxy:e})}else r.underive(e),r.derive(s,{proxy:e})}}return f&&Object.assign(e,f),e}const v=o=>i.useSnapshot(o);t.defineStore=a,t.useSnapshot=v,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
