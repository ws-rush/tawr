(function(t,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("valtio"),require("derive-valtio")):typeof define=="function"&&define.amd?define(["exports","valtio","derive-valtio"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.TawrState={},t.valtio,t.deriveValtio))})(this,function(t,i,r){"use strict";function p(c){const{state:a,getters:s,actions:u}=c,e=i.proxy(a());if(s){const o=s(e);r.derive(o,{proxy:e}),e.$underive=n=>{n&&n.length>0?r.underive(e,{keys:n.map(String),delete:!0}):r.underive(e)},e.$invalidate=n=>{if(n&&n.length>0){r.underive(e,{keys:n.map(String),delete:!0});const d={};for(const f of n)d[f]=o[f];r.derive(d,{proxy:e})}else r.underive(e),r.derive(o,{proxy:e})}}return u&&Object.assign(e,u),e}Object.defineProperty(t,"useSnapshot",{enumerable:!0,get:()=>i.useSnapshot}),t.defineStore=p,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
